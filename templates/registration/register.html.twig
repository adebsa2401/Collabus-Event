{% extends 'anonym_base.html.twig' %}

{% block title %}CCI Events - S'Enregistrer
{% endblock %}

{% block body %}
	<div class="auth-form-light text-left py-5 px-4 px-sm-5">
		<div class="brand-logo row">
			<img class="mx-auto" src="{{ asset('images/logo.png') }}" alt="logo">
		</div>
		<h4>Bienvenue à CCI Events</h4>
		<h6 class="font-weight-light">Créez un compte en quelques minutes</h6>
		{% for error in app.flashes('error') %}
			<div class="alert alert-danger">
				{{ error }}</div>
		{% endfor %}

		{{ form_start(form) }}
		<div class="form-group">
			{{ form_widget(form.email, {"attr": {"class": "form-control form-control-lg", "placeholder": "Email"}}) }}
		</div>

		<div class="form-group">
			{{ form_widget(form.profile, {"attr": {"class": "form-control form-control-lg"}}) }}
		</div>

		<div class="form-group user-profile-info individual-info">
			{{ form_widget(form.individualProfile.lastName, {"attr": {"class": "form-control form-control-lg", "placeholder": "Nom"}}) }}
		</div>

		<div class="form-group user-profile-info individual-info">
			{{ form_widget(form.individualProfile.firstName, {"attr": {"class": "form-control form-control-lg", "placeholder": "Prénoms"}}) }}
		</div>

		<div class="form-group user-profile-info company-info" style="display: none">
			{{ form_widget(form.companyProfile.name, {"attr": {"class": "form-control form-control-lg", "placeholder": "Nom de l'entreprise"}}) }}
		</div>

		<div class="form-group">
			{{ form_widget(form.plainPassword.first, {"attr": {"class": "form-control form-control-lg", "placeholder": "Mot de passe"}}) }}
		</div>

		<div class="form-group">
			{{ form_widget(form.plainPassword.second, {"attr": {"class": "form-control form-control-lg", "placeholder": "Confirmer mot de passe"}}) }}
		</div>

		<div class="mb-4">
			<div class="form-check">
				<label class="form-check-label text-muted">
					{{ form_widget(form.agreeTerms, {"class": "form-check-input"}) }}

					J'accepte les termes et conditions de CCI Events
				</label>
			</div>
		</div>
		<div class="mt-3">
			<button type="submit" class="btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn">Register</button>
		</div>
		<div class="text-center mt-4 font-weight-light">
			Avez-vous déjà un compte?
			<a href="{{ path('app_login') }}" class="text-primary">Se connecter</a>
		</div>
		{{ form_end(form) }}

	</div>

{% endblock %}

{% block javascripts %}
	<script>
		$(document).ready(function () {
$('#registration_form_profile').on('change', function () {
$('.user-profile-info').hide();

if ($(this).val() == 'individual') {
$('.individual-info').show();
} else if ($(this).val() == 'company') {
$('.company-info').show();
}
});
});
	</script>
{% endblock %}
